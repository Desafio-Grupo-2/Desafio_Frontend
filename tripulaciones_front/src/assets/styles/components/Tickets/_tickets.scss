/* ====== Tickets (alineación perfecta + responsive) ====== */

/* Contenedor centrado y ancho consistente */
.page-container {
  --content-max: 1200px;
  max-width: var(--content-max);
  margin-inline: auto;
  padding-inline: 16px;
  box-sizing: border-box;
}

/* Grid a 12 columnas para gobernarlo todo */
.tickets {
  display: grid;
  grid-template-columns: repeat(12, minmax(0, 1fr));
  gap: 1rem;

  /* Cualquier hijo por defecto ocupa 1 → 12 */
  > * { grid-column: 1 / -1; }

  /* Neutraliza .card global dentro de tickets */
  .card {
    width: 100% !important;
    max-width: none !important;
    margin: 0 !important;
    box-sizing: border-box;
  }

  /* evita desbordes de hijos flex/grid en móvil */
  min-width: 0;
  * { min-width: 0; }
}

/* --- HEADER --- */
.tickets__header {
  grid-column: 1 / -1;

  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: .875rem;                 /* margen visible entre título y botones */
  flex-wrap: wrap;

  background: var(--gray-25);
  border: 1px solid var(--gray-100);
  border-radius: var(--radius-xl);
  padding: 1rem 1.25rem;
  box-shadow: var(--shadow-elev);

  h1 {
    margin: 0;
    font-size: 1.25rem;
    color: var(--text);
    line-height: 1.2;
  }

  .tickets__filters {
    display: flex;
    gap: .5rem;
    margin-top: .125rem;

    button {
      appearance: none;
      border: 1px solid var(--gray-300);
      background: #fff;
      color: var(--muted);
      padding: .5rem .75rem;
      border-radius: var(--radius-pill);
      cursor: pointer;
      transition: all .2s ease;
      white-space: nowrap;

      &.active {
        border-color: var(--orange-500);
        color: #fff;
        background: var(--orange-500);
        box-shadow: var(--shadow-elev);
      }
      &:hover { border-color: var(--orange-400); color: var(--orange-600); }
    }
  }
}

/* --- RESUMEN (dos cards alineadas con header) --- */
.tickets__summary { display: contents; } /* hijos forman parte del grid padre */

.tickets__summary > .card:nth-child(1) { grid-column: 1 / span 6; }
.tickets__summary > .card:nth-child(2) { grid-column: 7 / -1;     }

.tickets__summary > .card {
  background: #fff;
  border: 1px solid var(--gray-100);
  border-radius: var(--radius-xl);
  padding: 1rem 1.25rem;
  box-shadow: var(--shadow-card);

  .label { margin: 0 0 .25rem 0; color: var(--muted); font-size: .85rem; }
  .value { margin: 0; color: var(--text); font-weight: 700; font-size: 1.25rem; }
}

/* --- TABLA (alineada con header) --- */
.tickets__table {
  grid-column: 1 / -1;
  background: #fff;
  border: 1px solid var(--gray-100);
  border-radius: var(--radius-xl);
  box-shadow: var(--shadow-card);

  .table-scroll {
    width: 100%;
    overflow: auto;
    -webkit-overflow-scrolling: touch; /* scroll suave en iOS */
  }

  table {
    width: 100%;
    border-collapse: collapse;
    min-width: 640px; /* asegura scroll horizontal en móviles estrechos */

    thead th {
      text-align: left;
      color: var(--muted);
      font-weight: 600;
      font-size: .9rem;
      padding: .75rem 1rem;
      border-bottom: 1px solid var(--gray-100);
      background: var(--gray-50);
      position: sticky; top: 0; z-index: 1;
    }

    tbody td {
      padding: .75rem 1rem;
      border-bottom: 1px solid var(--gray-100);
      color: var(--text);
      font-size: .95rem;
      white-space: nowrap;
    }

    tbody tr:hover td { background: var(--orange-50); }

    .empty { text-align: center; color: var(--muted); padding: 1rem; }
  }
}

/* ===== Responsive ===== */
@media (max-width: 900px) {
  .page-container { padding-inline: 14px; }

  .tickets {
    grid-template-columns: 1fr;
    gap: .875rem;
  }

  .tickets__header {
    flex-direction: column;
    align-items: stretch;
    gap: .75rem;

    h1 { font-size: 1.15rem; }

    .tickets__filters {
      /* botones en fila scrolleable si el viewport es muy estrecho */
      display: grid;
      grid-auto-flow: column;
      grid-auto-columns: max-content;
      justify-content: start;
      gap: .5rem;
      overflow-x: auto;
      padding-bottom: .25rem;
      margin-top: .25rem;
      -webkit-overflow-scrolling: touch;
      scrollbar-width: thin;
    }

    .tickets__filters button {
      padding: .5rem .7rem;
      font-size: .95rem;
    }
  }

  /* En móvil, el resumen pasa a 1 columna con gap claro */
  .tickets__summary { 
    display: grid;                /* override del display: contents */
    grid-template-columns: 1fr;
    gap: .75rem;
  }
  .tickets__summary > .card:nth-child(1),
  .tickets__summary > .card:nth-child(2) { grid-column: 1 / -1; }

  .tickets__summary > .card { padding: .9rem 1rem; }

  .tickets__table table thead th,
  .tickets__table table tbody td {
    padding: .6rem .75rem;       /* un pelín más compacto en móvil */
  }
}

@media (max-width: 480px) {
  .page-container { padding-inline: 12px; }

  .tickets__header h1 { font-size: 1.05rem; }
  .tickets__filters button { font-size: .9rem; }

  .tickets__table table { min-width: 560px; } /* menos scroll aún */
}
